{"version":3,"sources":["swup.js"],"names":["root","factory","exports","module","define","amd","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","query","selector","context","arguments","length","undefined","document","querySelector","queryAll","Array","slice","querySelectorAll","_createClass","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","Link","instance","TypeError","_classCallCheck","this","link","createElement","href","path","pathname","search","hash","default","obj","_index","_index2","_extends","assign","source","_delegate2","_interopRequireDefault","_Cache2","_Link2","_transitionEnd2","_request2","_getDataFromHtml2","_loadPage2","_renderPage2","_createState2","_triggerEvent2","_getUrl2","_scrollTo2","_classify2","_doScrolling2","_markSwupElements2","_on2","_off2","_updateTransition2","_preloadPage2","_preloadPages2","_usePlugin2","_log2","Swup","setOptions","defaults","cache","animationSelector","elements","pageClassPrefix","debugMode","scroll","doScrollingRightAway","animateScroll","scrollFriction","scrollAcceleration","preload","support","plugins","skipPopStateHandling","event","state","animateHistoryBrowsing","LINK_SELECTOR","location","origin","FORM_SELECTOR","transition","options","_handlers","animationInDone","animationInStart","animationOutDone","animationOutStart","animationSkipped","clickLink","contentReplaced","disabled","enabled","hoverLink","openPageInNewTab","pageLoaded","pagePreloaded","pageRetrievedFromCache","pageView","popState","samePage","samePageWithHash","scrollDone","scrollStart","serverError","submitForm","willReplaceContent","scrollToElement","preloadPromise","getUrl","transitionEndEvent","getDataFromHtml","getPage","scrollTo","loadPage","renderPage","createState","triggerEvent","classify","doScrolling","markSwupElements","on","off","updateTransition","preloadPage","preloadPages","usePlugin","log","enable","destroy","swup","_this","history","console","warn","Promise","toString","indexOf","delegatedListeners","click","linkClickHandler","mouseover","body","linkMouseoverHandler","formSubmit","formSubmitHandler","addEventListener","popStateHandler","page","documentElement","outerHTML","url","currentUrl","cacheUrl","forEach","item","replaceState","random","Math","title","scrollRestoration","classList","add","removeEventListener","empty","element","dataset","remove","metaKey","button","preventDefault","setPath","delegateTarget","getAddress","getHash","top","getBoundingClientRect","pageYOffset","customTransition","swupTransition","_this2","exists","resolve","reject","response","request","status","route","form","formData","FormData","action","method","toLowerCase","data","inputs","input","type","checked","encodeURIComponent","closest","callback","useCapture","listenerFn","e","apply","Element","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","nodeType","parentNode","Cache","pages","count","last","displayCache","groupCollapsed","keys","groupEnd","showLog","el","transEndEventNames","WebkitTransition","MozTransition","OTransition","style","XMLHttpRequest","onreadystatechange","readyState","responseText","open","setRequestHeader","send","_utils","html","content","replace","fakeDom","innerHTML","blocks","index","push","innerText","pageClass","className","originalContent","responseURL","popstate","animationPromises","animatedElements","promise","all","then","pop","xhrPromise","concat","catch","errorUrl","go","_Link","getPath","split","includes","setTimeout","promises","classItem","RegExp","test","pushState","hostname","getElementsByTagName","eventName","originalEvent","handler","error","CustomEvent","detail","dispatchEvent","to","animatedScroll","friction","acceleration","positionY","velocityY","targetPositionY","targetPositionYWithOffset","direction","raf","animate","distance","applyForce","render","requestAnimationFrame","force","cancelAnimationFrame","passive","offset","scrollTop","text","output","splice","filter","savedHandler","toRemove","from","custom","plugin","exec","str"],"mappings":"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","file":"swup.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Swup\"] = factory();\n\telse\n\t\troot[\"Swup\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.query = query;\nexports.queryAll = queryAll;\nfunction query(selector) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n    if (typeof selector !== 'string') {\n        return selector;\n    }\n\n    return context.querySelector(selector);\n}\n\nfunction queryAll(selector) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n    if (typeof selector !== 'string') {\n        return selector;\n    }\n\n    return Array.prototype.slice.call(context.querySelectorAll(selector));\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Link = function () {\n    function Link() {\n        _classCallCheck(this, Link);\n\n        this.link = document.createElement(\"a\");\n    }\n\n    _createClass(Link, [{\n        key: 'setPath',\n        value: function setPath(href) {\n            this.link.href = href;\n        }\n    }, {\n        key: 'getPath',\n        value: function getPath() {\n            var path = this.link.pathname;\n            if (path[0] != '/') {\n                path = '/' + path;\n            }\n            return path;\n        }\n    }, {\n        key: 'getAddress',\n        value: function getAddress() {\n            var path = this.link.pathname + this.link.search;\n            if (path[0] != '/') {\n                path = '/' + path;\n            }\n            return path;\n        }\n    }, {\n        key: 'getHash',\n        value: function getHash() {\n            return this.link.hash;\n        }\n    }]);\n\n    return Link;\n}();\n\nexports.default = Link;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _index = __webpack_require__(3);\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = _index2.default; // this is here for webpack to expose Swup as window.Swup\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n// helpers\n\n\n// modules\n\n\nvar _delegate = __webpack_require__(4);\n\nvar _delegate2 = _interopRequireDefault(_delegate);\n\nvar _Cache = __webpack_require__(6);\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _Link = __webpack_require__(1);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nvar _transitionEnd = __webpack_require__(7);\n\nvar _transitionEnd2 = _interopRequireDefault(_transitionEnd);\n\nvar _request = __webpack_require__(8);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _getDataFromHtml = __webpack_require__(9);\n\nvar _getDataFromHtml2 = _interopRequireDefault(_getDataFromHtml);\n\nvar _loadPage = __webpack_require__(10);\n\nvar _loadPage2 = _interopRequireDefault(_loadPage);\n\nvar _renderPage = __webpack_require__(11);\n\nvar _renderPage2 = _interopRequireDefault(_renderPage);\n\nvar _createState = __webpack_require__(12);\n\nvar _createState2 = _interopRequireDefault(_createState);\n\nvar _triggerEvent = __webpack_require__(13);\n\nvar _triggerEvent2 = _interopRequireDefault(_triggerEvent);\n\nvar _getUrl = __webpack_require__(14);\n\nvar _getUrl2 = _interopRequireDefault(_getUrl);\n\nvar _scrollTo = __webpack_require__(15);\n\nvar _scrollTo2 = _interopRequireDefault(_scrollTo);\n\nvar _classify = __webpack_require__(16);\n\nvar _classify2 = _interopRequireDefault(_classify);\n\nvar _doScrolling = __webpack_require__(17);\n\nvar _doScrolling2 = _interopRequireDefault(_doScrolling);\n\nvar _markSwupElements = __webpack_require__(18);\n\nvar _markSwupElements2 = _interopRequireDefault(_markSwupElements);\n\nvar _on = __webpack_require__(19);\n\nvar _on2 = _interopRequireDefault(_on);\n\nvar _off = __webpack_require__(20);\n\nvar _off2 = _interopRequireDefault(_off);\n\nvar _updateTransition = __webpack_require__(21);\n\nvar _updateTransition2 = _interopRequireDefault(_updateTransition);\n\nvar _preloadPage = __webpack_require__(22);\n\nvar _preloadPage2 = _interopRequireDefault(_preloadPage);\n\nvar _preloadPages = __webpack_require__(23);\n\nvar _preloadPages2 = _interopRequireDefault(_preloadPages);\n\nvar _usePlugin = __webpack_require__(24);\n\nvar _usePlugin2 = _interopRequireDefault(_usePlugin);\n\nvar _log = __webpack_require__(25);\n\nvar _log2 = _interopRequireDefault(_log);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Swup = function () {\n    function Swup(setOptions) {\n        _classCallCheck(this, Swup);\n\n        // default options\n        var defaults = {\n            cache: true,\n            animationSelector: '[class*=\"transition-\"]',\n            elements: ['#swup'],\n            pageClassPrefix: '',\n            debugMode: false,\n            scroll: true,\n\n            doScrollingRightAway: false,\n            animateScroll: true,\n            scrollFriction: .3,\n            scrollAcceleration: .04,\n\n            preload: true,\n            support: true,\n            plugins: [],\n\n            skipPopStateHandling: function skipPopStateHandling(event) {\n                if (event.state && event.state.source == \"swup\") {\n                    return false;\n                }\n                return true;\n            },\n            animateHistoryBrowsing: false,\n\n            LINK_SELECTOR: 'a[href^=\"' + window.location.origin + '\"]:not([data-no-swup]), a[href^=\"/\"]:not([data-no-swup]), a[href^=\"#\"]:not([data-no-swup])',\n            FORM_SELECTOR: 'form[data-swup-form]'\n\n            /**\n             * current transition object\n             */\n        };this.transition = {};\n\n        var options = _extends({}, defaults, setOptions);\n\n        /**\n         * handler arrays\n         */\n        this._handlers = {\n            animationInDone: [],\n            animationInStart: [],\n            animationOutDone: [],\n            animationOutStart: [],\n            animationSkipped: [],\n            clickLink: [],\n            contentReplaced: [],\n            disabled: [],\n            enabled: [],\n            hoverLink: [],\n            openPageInNewTab: [],\n            pageLoaded: [],\n            pagePreloaded: [],\n            pageRetrievedFromCache: [],\n            pageView: [],\n            popState: [],\n            samePage: [],\n            samePageWithHash: [],\n            scrollDone: [],\n            scrollStart: [],\n            serverError: [],\n            submitForm: [],\n            willReplaceContent: []\n        };\n\n        /**\n         * helper variables\n         */\n        // id of element to scroll to after render\n        this.scrollToElement = null;\n        // promise used for preload, so no new loading of the same page starts while page is loading\n        this.preloadPromise = null;\n        // save options\n        this.options = options;\n        // plugins array\n        this.plugins = [];\n\n        /**\n         * make modules accessible in instance\n         */\n        this.getUrl = _getUrl2.default;\n        this.cache = new _Cache2.default();\n        this.link = new _Link2.default();\n        this.transitionEndEvent = (0, _transitionEnd2.default)();\n        this.getDataFromHtml = _getDataFromHtml2.default;\n        this.getPage = _request2.default;\n        this.scrollTo = _scrollTo2.default;\n        this.loadPage = _loadPage2.default;\n        this.renderPage = _renderPage2.default;\n        this.createState = _createState2.default;\n        this.triggerEvent = _triggerEvent2.default;\n        this.classify = _classify2.default;\n        this.doScrolling = _doScrolling2.default;\n        this.markSwupElements = _markSwupElements2.default;\n        this.on = _on2.default;\n        this.off = _off2.default;\n        this.updateTransition = _updateTransition2.default;\n        this.preloadPage = _preloadPage2.default;\n        this.preloadPages = _preloadPages2.default;\n        this.usePlugin = _usePlugin2.default;\n        this.log = _log2.default;\n        this.enable = this.enable;\n        this.destroy = this.destroy;\n\n        // attach instance to window in debug mode\n        if (this.options.debugMode) {\n            window.swup = this;\n        }\n\n        this.getUrl();\n        this.enable();\n    }\n\n    _createClass(Swup, [{\n        key: 'enable',\n        value: function enable() {\n            var _this = this;\n\n            /**\n             * support check\n             */\n            if (this.options.support) {\n                // check pushState support\n                if (!('pushState' in window.history)) {\n                    console.warn('pushState is not supported');\n                    return;\n                }\n                // check transitionEnd support\n                if ((0, _transitionEnd2.default)()) {\n                    this.transitionEndEvent = (0, _transitionEnd2.default)();\n                } else {\n                    console.warn('transitionEnd detection is not supported');\n                    return;\n                }\n                // check Promise support\n                if (typeof Promise === \"undefined\" || Promise.toString().indexOf(\"[native code]\") === -1) {\n                    console.warn('Promise is not supported');\n                    return;\n                }\n            }\n\n            // variable to keep event listeners from \"delegate\"\n            this.delegatedListeners = {};\n\n            /**\n             * link click handler\n             */\n            this.delegatedListeners.click = (0, _delegate2.default)(document, this.options.LINK_SELECTOR, 'click', this.linkClickHandler.bind(this));\n\n            /**\n             * link mouseover handler (preload)\n             */\n            this.delegatedListeners.mouseover = (0, _delegate2.default)(document.body, this.options.LINK_SELECTOR, 'mouseover', this.linkMouseoverHandler.bind(this));\n\n            /**\n             * form submit handler\n             */\n            this.delegatedListeners.formSubmit = (0, _delegate2.default)(document, this.options.FORM_SELECTOR, 'submit', this.formSubmitHandler.bind(this));\n\n            /**\n             * popstate handler\n             */\n            window.addEventListener('popstate', this.popStateHandler.bind(this));\n\n            /**\n             * initial save to cache\n             */\n            var page = this.getDataFromHtml(document.documentElement.outerHTML);\n            page.url = this.currentUrl;\n            if (this.options.cache) {\n                this.cache.cacheUrl(page, this.options.debugMode);\n            }\n\n            /**\n             * mark swup blocks in html\n             */\n            this.markSwupElements(document.documentElement);\n\n            /**\n             * enable plugins from options\n             */\n            this.options.plugins.forEach(function (item) {\n                return _this.usePlugin(item);\n            });\n\n            /**\n             * modify initial history record\n             */\n            window.history.replaceState(Object.assign({}, window.history.state, {\n                url: window.location.href,\n                random: Math.random(),\n                source: \"swup\"\n            }), document.title, window.location.href);\n\n            /**\n             * Disable browser scroll control on popstates when animateHistoryBrowsing option is enabled\n             */\n            if (this.options.animateHistoryBrowsing) {\n                window.history.scrollRestoration = \"manual\";\n            }\n\n            /**\n             * trigger enabled event\n             */\n            this.triggerEvent('enabled');\n            document.documentElement.classList.add('swup-enabled');\n\n            /**\n             * trigger page view event\n             */\n            this.triggerEvent('pageView');\n\n            /**\n             * preload pages if possible\n             */\n            this.preloadPages();\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            // remove delegated listeners\n            this.delegatedListeners.click.destroy();\n            this.delegatedListeners.mouseover.destroy();\n\n            // remove popstate listener\n            window.removeEventListener('popstate', this.popStateHandler.bind(this));\n\n            // empty cache\n            this.cache.empty();\n\n            // remove swup data atributes from blocks\n            document.querySelectorAll('[data-swup]').forEach(function (element) {\n                delete element.dataset.swup;\n            });\n\n            // remove handlers\n            this.off();\n\n            this.triggerEvent('disabled');\n            document.documentElement.classList.remove('swup-enabled');\n        }\n    }, {\n        key: 'linkClickHandler',\n        value: function linkClickHandler(event) {\n            // no control key pressed\n            if (!event.metaKey) {\n                // index of pressed button needs to be checked because Firefox triggers click on all mouse buttons\n                if (event.button === 0) {\n                    this.triggerEvent('clickLink', event);\n                    var link = new _Link2.default();\n                    event.preventDefault();\n                    link.setPath(event.delegateTarget.href);\n\n                    if (link.getAddress() == this.currentUrl || link.getAddress() == '') {\n                        // link to the same URL\n                        if (link.getHash() != '') {\n                            // link to the same URL with hash\n                            this.triggerEvent('samePageWithHash', event);\n                            var element = document.querySelector(link.getHash());\n                            if (element != null) {\n                                // referenced element found\n                                if (this.options.scroll) {\n                                    var top = element.getBoundingClientRect().top + window.pageYOffset;\n                                    this.scrollTo(document.body, top);\n                                }\n                                history.replaceState({\n                                    url: link.getAddress() + link.getHash(),\n                                    random: Math.random(),\n                                    source: \"swup\"\n                                }, document.title, link.getAddress() + link.getHash());\n                            } else {\n                                // referenced element not found\n                                console.warn('Element for offset not found (' + link.getHash() + ')');\n                            }\n                        } else {\n                            // link to the same URL without hash\n                            this.triggerEvent('samePage', event);\n                            if (this.options.scroll) {\n                                this.scrollTo(document.body, 0, 1);\n                            }\n                        }\n                    } else {\n                        // link to different url\n                        if (link.getHash() != '') {\n                            this.scrollToElement = link.getHash();\n                        }\n\n                        // get custom transition from data\n                        var customTransition = event.delegateTarget.dataset.swupTransition;\n\n                        // load page\n                        this.loadPage({ url: link.getAddress(), customTransition: customTransition }, false);\n                    }\n                }\n            } else {\n                // open in new tab (do nothing)\n                this.triggerEvent('openPageInNewTab', event);\n            }\n        }\n    }, {\n        key: 'linkMouseoverHandler',\n        value: function linkMouseoverHandler(event) {\n            var _this2 = this;\n\n            this.triggerEvent('hoverLink', event);\n            if (this.options.preload) {\n                var link = new _Link2.default();\n                link.setPath(event.delegateTarget.href);\n                if (link.getAddress() != this.currentUrl && !this.cache.exists(link.getAddress()) && this.preloadPromise == null) {\n                    this.preloadPromise = new Promise(function (resolve, reject) {\n                        _this2.getPage({ url: link.getAddress() }, function (response, request) {\n                            if (request.status === 500) {\n                                _this2.triggerEvent('serverError', event);\n                                reject(link.getAddress());\n                                return;\n                            } else {\n                                // get json data\n                                var page = _this2.getDataFromHtml(response, request);\n                                if (page != null) {\n                                    page.url = link.getAddress();\n                                    _this2.cache.cacheUrl(page, _this2.options.debugMode);\n                                    _this2.triggerEvent('pagePreloaded', event);\n                                } else {\n                                    reject(link.getAddress());\n                                    return;\n                                }\n                            }\n                            resolve();\n                            _this2.preloadPromise = null;\n                        });\n                    });\n                    this.preloadPromise.route = link.getAddress();\n                }\n            }\n        }\n    }, {\n        key: 'formSubmitHandler',\n        value: function formSubmitHandler(event) {\n            // no control key pressed\n            if (!event.metaKey) {\n                this.triggerEvent('submitForm', event);\n                event.preventDefault();\n                var form = event.target;\n                var formData = new FormData(form);\n\n                var link = new _Link2.default();\n                link.setPath(form.action);\n\n                if (link.getHash() != '') {\n                    this.scrollToElement = link.getHash();\n                }\n\n                if (form.method.toLowerCase() != \"get\") {\n                    // remove page from cache\n                    this.cache.remove(link.getAddress());\n\n                    // send data\n                    this.loadPage({\n                        url: link.getAddress(),\n                        method: form.method,\n                        data: formData\n                    });\n                } else {\n                    // create base url\n                    var url = link.getAddress() || window.location.href;\n                    var inputs = form.querySelectorAll('input, select');\n                    if (url.indexOf('?') == -1) {\n                        url += \"?\";\n                    } else {\n                        url += \"&\";\n                    }\n\n                    // add form data to url\n                    inputs.forEach(function (input) {\n                        if (input.type == \"checkbox\" || input.type == \"radio\") {\n                            if (input.checked) {\n                                url += encodeURIComponent(input.name) + \"=\" + encodeURIComponent(input.value) + \"&\";\n                            }\n                        } else {\n                            url += encodeURIComponent(input.name) + \"=\" + encodeURIComponent(input.value) + \"&\";\n                        }\n                    });\n\n                    // remove last \"&\"\n                    url = url.slice(0, -1);\n\n                    // remove page from cache\n                    this.cache.remove(url);\n\n                    // send data\n                    this.loadPage({\n                        url: url\n                    });\n                }\n            } else {\n                this.triggerEvent('openFormSubmitInNewTab', event);\n            }\n        }\n    }, {\n        key: 'popStateHandler',\n        value: function popStateHandler(event) {\n            var link = new _Link2.default();\n            if (this.options.skipPopStateHandling(event)) return;\n            link.setPath(event.state ? event.state.url : window.location.pathname);\n            if (link.getHash() != '') {\n                this.scrollToElement = link.getHash();\n            } else {\n                event.preventDefault();\n            }\n            this.triggerEvent('popState', event);\n            this.loadPage({ url: link.getAddress() }, event);\n        }\n    }]);\n\n    return Swup;\n}();\n\nexports.default = Swup;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar closest = __webpack_require__(5);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cache = function () {\n    function Cache() {\n        _classCallCheck(this, Cache);\n\n        this.pages = {};\n        this.count = 0;\n        this.last = null;\n    }\n\n    _createClass(Cache, [{\n        key: 'cacheUrl',\n        value: function cacheUrl(page, displayCache) {\n            this.count++;\n            if (page.url in this.pages === false) {\n                this.pages[page.url] = page;\n            }\n            this.last = this.pages[page.url];\n            if (displayCache) {\n                this.displayCache();\n            }\n        }\n    }, {\n        key: 'getPage',\n        value: function getPage(url) {\n            return this.pages[url];\n        }\n    }, {\n        key: 'displayCache',\n        value: function displayCache() {\n            console.groupCollapsed('Cache (' + Object.keys(this.pages).length + ')');\n            for (var key in this.pages) {\n                console.log(this.pages[key]);\n            }\n            console.groupEnd();\n        }\n    }, {\n        key: 'exists',\n        value: function exists(url) {\n            if (url in this.pages) return true;\n            return false;\n        }\n    }, {\n        key: 'empty',\n        value: function empty(showLog) {\n            this.pages = {};\n            this.count = 0;\n            this.last = null;\n            if (showLog) {\n                console.log('Cache cleared');\n            }\n        }\n    }, {\n        key: 'remove',\n        value: function remove(url) {\n            delete this.pages[url];\n        }\n    }]);\n\n    return Cache;\n}();\n\nexports.default = Cache;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function transitionEnd() {\n    var el = document.createElement('div');\n\n    var transEndEventNames = {\n        WebkitTransition: 'webkitTransitionEnd',\n        MozTransition: 'transitionend',\n        OTransition: 'oTransitionEnd otransitionend',\n        transition: 'transitionend'\n    };\n\n    for (var name in transEndEventNames) {\n        if (el.style[name] !== undefined) {\n            return transEndEventNames[name];\n        }\n    }\n\n    return false;\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nmodule.exports = function (options) {\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var defaults = {\n        url: window.location.pathname + window.location.search,\n        method: \"GET\",\n        data: null\n    };\n\n    var data = _extends({}, defaults, options);\n\n    var request = new XMLHttpRequest();\n\n    request.onreadystatechange = function () {\n        if (request.readyState === 4) {\n            if (request.status !== 500) {\n                callback(request.responseText, request);\n            } else {\n                callback(null, request);\n            }\n        }\n    };\n\n    request.open(data.method, data.url, true);\n    request.setRequestHeader(\"X-Requested-With\", \"swup\");\n    request.send(data.data);\n    return request;\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nmodule.exports = function (html, request) {\n    var _this = this;\n\n    var content = html.replace('<body', '<div id=\"swupBody\"').replace('</body>', '</div>');\n    var fakeDom = document.createElement('div');\n    fakeDom.innerHTML = content;\n    var blocks = [];\n\n    for (var i = 0; i < this.options.elements.length; i++) {\n        if (fakeDom.querySelector(this.options.elements[i]) == null) {\n            console.warn('Element ' + this.options.elements[i] + ' is not found in cached page.');\n            return null;\n        } else {\n            (0, _utils.queryAll)(this.options.elements[i]).forEach(function (item, index) {\n                (0, _utils.queryAll)(_this.options.elements[i], fakeDom)[index].dataset.swup = blocks.length;\n                blocks.push((0, _utils.queryAll)(_this.options.elements[i], fakeDom)[index].outerHTML);\n            });\n        }\n    }\n\n    var json = {\n        title: fakeDom.querySelector('title').innerText,\n        pageClass: fakeDom.querySelector('#swupBody').className,\n        originalContent: html,\n        blocks: blocks,\n        responseURL: request != null ? request.responseURL : window.location.href\n    };\n    return json;\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nvar forEach = Array.prototype.forEach;\n\n\nmodule.exports = function (data, popstate) {\n    var _this = this;\n\n    // scrolling\n    if (this.options.doScrollingRightAway && !this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    // create array for storing animation promises\n    var animationPromises = [];\n\n    // set transition object\n    if (data.customTransition != null) {\n        this.updateTransition(window.location.pathname, data.url, data.customTransition);\n        document.documentElement.classList.add('to-' + this.classify(data.customTransition));\n    } else {\n        this.updateTransition(window.location.pathname, data.url);\n    }\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        // start animation\n        this.triggerEvent('animationOutStart');\n        document.documentElement.classList.add('is-changing');\n        document.documentElement.classList.add('is-leaving');\n        document.documentElement.classList.add('is-animating');\n        if (popstate) {\n            document.documentElement.classList.add('is-popstate');\n        }\n        document.documentElement.classList.add('to-' + this.classify(data.url));\n\n        // detect animation end\n        var animatedElements = (0, _utils.queryAll)(this.options.animationSelector);\n        forEach.call(animatedElements, function (element) {\n            var promise = new Promise(function (resolve) {\n                element.addEventListener(_this.transitionEndEvent, function (event) {\n                    if (element == event.target) {\n                        resolve();\n                    }\n                });\n            });\n            animationPromises.push(promise);\n        });\n\n        Promise.all(animationPromises).then(function () {\n            _this.triggerEvent('animationOutDone');\n        });\n\n        // create pop element with or without anchor\n        if (this.scrollToElement != null) {\n            var pop = data.url + this.scrollToElement;\n        } else {\n            var pop = data.url;\n        }\n        if (!popstate) this.createState(pop);\n    } else {\n        // proceed without animating\n        this.triggerEvent('animationSkipped');\n    }\n\n    if (this.cache.exists(data.url)) {\n        var xhrPromise = new Promise(function (resolve) {\n            resolve();\n        });\n        this.triggerEvent('pageRetrievedFromCache');\n    } else {\n        if (!this.preloadPromise || this.preloadPromise.route != data.url) {\n            var xhrPromise = new Promise(function (resolve, reject) {\n                _this.getPage(data, function (response, request) {\n                    if (request.status === 500) {\n                        _this.triggerEvent('serverError');\n                        reject(data.url);\n                        return;\n                    } else {\n                        // get json data\n                        var page = _this.getDataFromHtml(response, request);\n                        if (page != null) {\n                            page.url = data.url;\n                        } else {\n                            reject(data.url);\n                            return;\n                        }\n                        // render page\n                        _this.cache.cacheUrl(page, _this.options.debugMode);\n                        _this.triggerEvent('pageLoaded');\n                    }\n                    resolve();\n                });\n            });\n        } else {\n            var xhrPromise = this.preloadPromise;\n        }\n    }\n\n    Promise.all(animationPromises.concat([xhrPromise])).then(function () {\n        // render page\n        _this.renderPage(_this.cache.getPage(data.url), popstate);\n        _this.preloadPromise = null;\n    }).catch(function (errorUrl) {\n        // rewrite the skipPopStateHandling function to redirect manually when the history.go is processed\n        _this.options.skipPopStateHandling = function () {\n            window.location = errorUrl;\n            return true;\n        };\n\n        // go back to the actual page were still at\n        window.history.go(-1);\n    });\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nvar _Link = __webpack_require__(1);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar forEach = Array.prototype.forEach;\n\n\nmodule.exports = function (page, popstate) {\n    var _this = this;\n\n    document.documentElement.classList.remove('is-leaving');\n\n    // replace state in case the url was redirected\n    var link = new _Link2.default();\n    link.setPath(page.responseURL);\n\n    if (window.location.pathname !== link.getPath()) {\n        window.history.replaceState({\n            url: link.getPath(),\n            random: Math.random(),\n            source: \"swup\"\n        }, document.title, link.getPath());\n    }\n\n    // only add for non-popstate transitions\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        document.documentElement.classList.add('is-rendering');\n    }\n\n    this.triggerEvent('willReplaceContent');\n\n    // replace blocks\n    for (var i = 0; i < page.blocks.length; i++) {\n        document.body.querySelector('[data-swup=\"' + i + '\"]').outerHTML = page.blocks[i];\n    }\n\n    // set title\n    document.title = page.title;\n\n    // handle classes after render\n    // remove\n    if (this.options.pageClassPrefix !== false) {\n        document.body.className.split(' ').forEach(function (className) {\n            // empty string for page class\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.remove(className);\n            }\n        });\n    }\n    // add\n    if (page.pageClass != \"\") {\n        page.pageClass.split(' ').forEach(function (className) {\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.add(className);\n            }\n        });\n    }\n\n    this.triggerEvent('contentReplaced');\n    this.triggerEvent('pageView');\n    if (!this.options.cache) {\n        this.cache.empty(this.options.debugMode);\n    }\n    setTimeout(function () {\n        if (!popstate || _this.options.animateHistoryBrowsing) {\n            _this.triggerEvent('animationInStart');\n            document.documentElement.classList.remove('is-animating');\n        }\n    }, 10);\n\n    // scrolling\n    if (!this.options.doScrollingRightAway || this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    // detect animation end\n    var animatedElements = (0, _utils.queryAll)(this.options.animationSelector);\n    var promises = [];\n    forEach.call(animatedElements, function (element) {\n        var promise = new Promise(function (resolve) {\n            element.addEventListener(_this.transitionEndEvent, function (event) {\n                if (element == event.target) {\n                    resolve();\n                }\n            });\n        });\n        promises.push(promise);\n    });\n\n    //preload pages if possible\n    this.preloadPages();\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        Promise.all(promises).then(function () {\n            _this.triggerEvent('animationInDone');\n            // remove \"to-{page}\" classes\n            document.documentElement.className.split(' ').forEach(function (classItem) {\n                if (new RegExp(\"^to-\").test(classItem) || classItem === \"is-changing\" || classItem === \"is-rendering\" || classItem === \"is-popstate\") {\n                    document.documentElement.classList.remove(classItem);\n                }\n            });\n        });\n    }\n\n    // update current url\n    this.getUrl();\n    // reset scroll-to element\n    this.scrollToElement = null;\n};\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (url) {\n    window.history.pushState({\n        url: url || window.location.href.split(window.location.hostname)[1],\n        random: Math.random(),\n        source: \"swup\"\n    }, document.getElementsByTagName('title')[0].innerText, url || window.location.href.split(window.location.hostname)[1]);\n};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (eventName, originalEvent) {\n    if (this.options.debugMode && originalEvent) {\n        console.groupCollapsed('%cswup:' + '%c' + eventName, 'color: #343434', 'color: #009ACD');\n        console.log(originalEvent);\n        console.groupEnd();\n    } else if (this.options.debugMode) {\n        console.log('%cswup:' + '%c' + eventName, 'color: #343434', 'color: #009ACD');\n    }\n\n    // call saved handlers with \"on\" method and pass originalEvent object if available\n    this._handlers[eventName].forEach(function (handler) {\n        try {\n            handler(originalEvent);\n        } catch (error) {\n            console.error(error);\n        }\n    });\n\n    // trigger event on document with prefix \"swup:\"\n    var event = new CustomEvent('swup:' + eventName, { detail: eventName });\n    document.dispatchEvent(event);\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function () {\n    this.currentUrl = window.location.pathname + window.location.search;\n};\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (element, to) {\n    var _this = this;\n\n    var animatedScroll = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.options.animateScroll;\n\n    var friction = 1 - this.options.scrollFriction;\n    var acceleration = this.options.scrollAcceleration;\n\n    var positionY = 0;\n    var velocityY = 0;\n    var targetPositionY = 0;\n    var targetPositionYWithOffset = 0;\n    var direction = 0;\n\n    var raf = null;\n\n    function getScrollTop() {\n        return document.body.scrollTop || document.documentElement.scrollTop;\n    }\n\n    var animate = function animate() {\n        var distance = update();\n        render();\n\n        if (direction === 1 && targetPositionY > positionY || direction === -1 && targetPositionY < positionY) {\n            raf = requestAnimationFrame(animate);\n        } else {\n            window.scrollTo(0, targetPositionY);\n            _this.triggerEvent('scrollDone');\n        }\n    };\n\n    function update() {\n        var distance = targetPositionYWithOffset - positionY;\n        var attraction = distance * acceleration;\n\n        applyForce(attraction);\n\n        velocityY *= friction;\n        positionY += velocityY;\n\n        return distance;\n    }\n\n    var applyForce = function applyForce(force) {\n        velocityY += force;\n    };\n\n    var render = function render() {\n        window.scrollTo(0, positionY);\n    };\n\n    window.addEventListener('mousewheel', function (event) {\n        if (raf) {\n            cancelAnimationFrame(raf);\n            raf = null;\n        }\n    }, {\n        passive: true\n    });\n\n    var scrollTo = function scrollTo(offset, callback) {\n        positionY = getScrollTop();\n        direction = positionY > offset ? -1 : 1;\n        targetPositionYWithOffset = offset + direction;\n        targetPositionY = offset;\n        velocityY = 0;\n        if (positionY != targetPositionY) {\n            animate();\n        } else {\n            _this.triggerEvent('scrollDone');\n        }\n    };\n\n    this.triggerEvent('scrollStart');\n    if (animatedScroll == 0) {\n        window.scrollTo(0, to);\n        this.triggerEvent('scrollDone');\n    } else {\n        scrollTo(to);\n    }\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (text) {\n    var output = text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(/\\//g, '-') // Replace / with -\n    .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n    .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n    if (output[0] == \"/\") output = output.splice(1);\n    if (output == '') output = 'homepage';\n    return output;\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (popstate) {\n    if (this.options.scroll && (!popstate || this.options.animateHistoryBrowsing)) {\n        if (this.scrollToElement != null) {\n            var element = document.querySelector(this.scrollToElement);\n            if (element != null) {\n                var top = element.getBoundingClientRect().top + window.pageYOffset;\n                this.scrollTo(document.body, top);\n            } else {\n                console.warn(\"Element for offset not found (\" + this.scrollToElement + \")\");\n            }\n            this.scrollToElement = null;\n        } else {\n            this.scrollTo(document.body, 0);\n        }\n    }\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nmodule.exports = function (element) {\n    var _this = this;\n\n    var blocks = 0;\n\n    for (var i = 0; i < this.options.elements.length; i++) {\n        if (element.querySelector(this.options.elements[i]) == null) {\n            console.warn(\"Element \" + this.options.elements[i] + \" is not in current page.\");\n        } else {\n            (0, _utils.queryAll)(this.options.elements[i]).forEach(function (item, index) {\n                (0, _utils.queryAll)(_this.options.elements[i], element)[index].dataset.swup = blocks;\n                blocks++;\n            });\n        }\n    }\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function on(event, handler) {\n    if (this._handlers[event]) {\n        this._handlers[event].push(handler);\n    } else {\n        console.warn(\"Unsupported event \" + event + \".\");\n    }\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function off(event, handler) {\n    var _this = this;\n\n    if (event != null) {\n        if (handler != null) {\n            if (this._handlers[event] && this._handlers[event].filter(function (savedHandler) {\n                return savedHandler === handler;\n            }).length) {\n                var toRemove = this._handlers[event].filter(function (savedHandler) {\n                    return savedHandler === handler;\n                })[0];\n                var index = this._handlers[event].indexOf(toRemove);\n                if (index > -1) {\n                    this._handlers[event].splice(index, 1);\n                }\n            } else {\n                console.warn(\"Handler for event '\" + event + \"' no found.\");\n            }\n        } else {\n            this._handlers[event] = [];\n        }\n    } else {\n        Object.keys(this._handlers).forEach(function (keys) {\n            _this._handlers[keys] = [];\n        });\n    }\n};\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (from, to, custom) {\n\n    // homepage case\n    if (from == \"/\") {\n        from = \"/homepage\";\n    }\n    if (to == \"/\") {\n        to = \"/homepage\";\n    }\n\n    // transition routes\n    this.transition = {\n        from: from.replace('/', ''),\n        to: to.replace('/', '')\n    };\n\n    if (custom) {\n        this.transition.custom = custom;\n    }\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Link = __webpack_require__(1);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = function (pathname) {\n    var _this = this;\n\n    var link = new _Link2.default();\n    link.setPath(pathname);\n    if (link.getAddress() != this.currentUrl && !this.cache.exists(link.getAddress()) && this.preloadPromise == null) {\n        this.getPage({ url: link.getAddress() }, function (response, request) {\n            if (request.status === 500) {\n                _this.triggerEvent('serverError');\n                return;\n            } else {\n                // get json data\n                var page = _this.getDataFromHtml(response, request);\n                if (page != null) {\n                    page.url = link.getAddress();\n                    _this.cache.cacheUrl(page, _this.options.debugMode);\n                    _this.triggerEvent('pagePreloaded');\n                }\n            }\n        });\n    }\n};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nmodule.exports = function () {\n    var _this = this;\n\n    if (this.options.preload) {\n        (0, _utils.queryAll)('[data-swup-preload]').forEach(function (element) {\n            _this.preloadPage(element.href);\n        });\n    }\n};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (plugin, options) {\n    var _this = this;\n\n    options = Object.assign({}, plugin.options, options);\n\n    plugin.options = options;\n\n    var getCurrentPageHtml = function getCurrentPageHtml() {\n        var page = _this.cache.getPage(window.location.pathname + window.location.search);\n        var html = document.createElement('html');\n        html.innerHTML = page.originalContent;\n        return html;\n    };\n\n    this.plugins.push(plugin);\n    plugin.exec(options, this, getCurrentPageHtml);\n    return this.plugins;\n};\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (str) {\n    if (this.options.debugMode) {\n        console.log(str + '%c', 'color: #009ACD');\n    }\n};\n\n/***/ })\n/******/ ]);\n});"],"sourceRoot":"/source/"}